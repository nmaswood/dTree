{"version":3,"sources":["dTree.js"],"names":[],"mappings":";;;;AAAA,AAAC,CAAA,UAAU,MAAM,EAAE,OAAO,EAAE;AAC3B,SAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,MAAM,KAAK,WAAW,GAAG,MAAM,CAAC,OAAO,GAAG,OAAO,EAAE,GACzF,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,GAC3D,MAAM,CAAC,KAAK,GAAG,OAAO,EAAE,AAAC,CAAC;CAC3B,CAAA,CAAC,IAAI,EAAG,YAAY;AAAE,cAAY,CAAC;;MAE9B,WAAW;AAEJ,aAFP,WAAW,CAEH,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE;4BAF9B,WAAW;;AAGb,iBAAW,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;;AAE7C,UAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,UAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,UAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;;AAGjB,UAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;;AAGzC,UAAI,YAAY,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAS,CAAC,EAAE;AACrD,eAAO,CAAC,CAAC,CAAC,MAAM,CAAC;OAClB,CAAC,CAAC;AACH,UAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,EAClD,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;KAChD;;iBAlBG,WAAW;;aAoBT,kBAAG;;AAEP,YAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AACrB,YAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;AAC7B,YAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;;AAE7B,YAAI,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AAC9D,YAAI,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;;AAEhE,YAAI,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,CACjB,WAAW,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CACtB,EAAE,CAAC,MAAM,EAAE,YAAW;AACrB,aAAG,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;SACjF,CAAC,CAAC;;;AAGL,YAAI,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CACxC,MAAM,CAAC,KAAK,CAAC,CACb,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CACpB,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CACtB,IAAI,CAAC,IAAI,CAAC,CACV,MAAM,CAAC,GAAG,CAAC,CACX,IAAI,CAAC,WAAW,EAAE,YAAY,GAAG,KAAK,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;;;AAG7E,YAAI,CAAC,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,CAClB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;;AAElD,YAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE;AAC7C,iBAAO,AAAC,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,GAAI,EAAE,GAAG,EAAE,CAAC;SACnD,CAAC,CAAC;;AAEH,YAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;OACzB;;;aAEM,iBAAC,MAAM,EAAE;;AAEd,YAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AACrB,YAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;AAC7B,YAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;;AAE7B,YAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAClC,YAAI,KAAK,GAAG,SAAS,CAAC,KAAK,EAAE,CAAC;;;AAG9B,YAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CACzC,IAAI,CAAC,KAAK,CAAC,CACX,KAAK,EAAE;;SAEP,MAAM,CAAC,UAAS,CAAC,EAAE;AAClB,iBAAO,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;SAChC,CAAC,CAAC;;AAEL,gBAAQ,CACL,MAAM,CAAC,MAAM,CAAC,CACd,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CACjC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;;AAE1B,YAAI,aAAa,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACrC,gBAAQ,CACL,MAAM,CAAC,MAAM,CAAC,CACd,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,cAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AACxB,cAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AACxB,iBAAU,MAAM,CAAC,CAAC,QAAK;SACxB,CAAC,CACD,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,cAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AACxB,cAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AACxB,iBAAU,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,QAAK;SAC/B,CAAC,CACD,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CACrB,IAAI,CAAC,aAAa,EAAE,6BAA6B,CAAC,CAClD,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CACxB,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,CACzB,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAC7B,IAAI,CAAC,UAAS,CAAC,EAAE;AAChB,cAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AACxB,cAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;AACxB,cAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;AAC1C,iBAAO,aAAa,CAAC,UAAU,CAAC,CAAC;SAClC,CAAC,CAAC;;AAEL,YAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CACpC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,CAC7B,KAAK,EAAE,CAAC;;;AAGX,YAAI,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAC3B,MAAM,CAAC,UAAS,CAAC,EAAE;AAClB,iBAAO,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC;SACrC,CAAC,CACD,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC;SAClC,CAAC,CACD,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC;SACnC,CAAC,CACD,IAAI,CAAC,OAAO,EAAE,UAAS,CAAC,EAAE;AACzB,iBAAO,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;SACxB,CAAC,CACD,IAAI,CAAC,QAAQ,EAAE,UAAS,CAAC,EAAE;AAC1B,iBAAO,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;SACzB,CAAC,CACD,IAAI,CAAC,IAAI,EAAE,UAAS,CAAC,EAAE;AACtB,iBAAO,CAAC,CAAC,EAAE,CAAC;SACb,CAAC,CAAC;AACL,YAAM,MAAM,GAAG,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;;AAE/C,YAAM,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,mBAAmB,CAAC,CACzD,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,CAC7B,KAAK,EAAE;;SAEP,MAAM,CAAC,UAAS,CAAC,EAAE;AAClB,iBAAO,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC;SAC5B,CAAC,CAAC;;AAEL,oBAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CACxB,IAAI,CAAC,OAAO,EAAE,2BAA2B,CAAC,CAC1C,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAO,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;SACxB,CAAC,CACD,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;SACvC,CAAC,CACD,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,CAC1B,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CACrB,IAAI,CAAC,WAAW,EAAE,UAAS,CAAC,EAAE;AAAE,iBAAO,OAAO,CAAC;SAAE,CAAC,CAClD,IAAI,CAAC,UAAS,CAAC,EAAE;AAAE,iBAAO,GAAQ,CAAC;SAAE,CAAC,CACtC,EAAE,CAAC,WAAW,EAAE,UAAS,CAAC,EAAE;AAC3B,cAAM,OAAO,GAAG,EAAE,CAAC,MAAM,gBAAc,CAAC,CAAC,IAAI,CAAC,EAAE,CAAG,CAAC;AACpD,iBAAO,CAAC,KAAK,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;SACxC,CAAC,CACD,EAAE,CAAC,UAAU,EAAE,UAAS,CAAC,EAAE;AAC1B,cAAM,OAAO,GAAG,EAAE,CAAC,MAAM,gBAAc,CAAC,CAAC,IAAI,CAAC,EAAE,CAAG,CAAC;AACpD,iBAAO,CAAC,KAAK,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;SACvC,CAAC,CAAC;;AAEL,YAAM,iBAAiB,GAAG,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,CAC/C,IAAI,CAAC,OAAO,UAAU,CACtB,IAAI,CAAC,QAAQ,UAAS,CACtB,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC;SAClC,CAAC,CACD,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC;SACnC,CAAC;;SAED,IAAI,CAAC,IAAI,EAAE,UAAS,CAAC,EAAE;AACtB,+BAAmB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAG;SAChC,CAAC,CAAC;;AAEL,YAAM,iBAAiB,GAAG,EAAE,CAAC;AAC7B,YAAM,iBAAiB,GAAG,EAAE,CAAC;AAC7B,yBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,CAC7B,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CACzB,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CACvB,IAAI,CAAC,OAAO,SAAS,CACrB,IAAI,CAAC,QAAQ,EAAI,iBAAiB,QAAK,CACvC,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC;SAClC,CAAC,CACD,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAO,CAAC,CAAC,CAAC,GAAG,iBAAiB,GAAG,IAAI,CAAC;SACvC,CAAC,CACD,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CACvB,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;;AAE3B,yBAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,CAC7B,IAAI,CAAC,OAAO,SAAS,CACrB,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC;SAClC,CAAC,CACD,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAO,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;SACnB,CAAC,CACD,IAAI,CAAC,aAAa,CAAC,CAAC;OACxB;;;aAEO,kBAAC,IAAI,EAAE;AACb,YAAI,CAAC,GAAG,EAAE,CAAC;AACX,YAAI,CAAC,GAAG,CAAC,CAAC;;AAEV,iBAAS,OAAO,CAAC,IAAI,EAAE;AACrB,cAAI,IAAI,CAAC,QAAQ,EAAE;AACjB,gBAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;WAChC;AACD,cAAI,CAAC,IAAI,CAAC,EAAE,EAAE;AACZ,gBAAI,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;WACf;AACD,WAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACd;AACD,eAAO,CAAC,IAAI,CAAC,CAAC;AACd,eAAO,CAAC,CAAC;OACV;;;aAEK,gBAAC,CAAC,EAAE,CAAC,EAAE;AACX,YAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE;AAC1B,iBAAO,UAAU,CAAC;SACnB;;;AAGD,YAAI,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAA,GAAI,CAAC,CAAC;AACpD,YAAM,MAAM,GAAG,CAAC,EAAE,CAAC;;AAEnB,eAAO,OAAK,CAAC,CAAC,MAAM,CAAC,CAAC,SAAI,CAAC,CAAC,MAAM,CAAC,CAAC,WACxB,CAAC,SAAI,MAAM,GAAG,CAAC,CAAE,WACjB,CAAC,SAAI,MAAM,CAAE,WACb,CAAC,CAAC,MAAM,CAAC,CAAC,SAAI,EAAE,CAAE,WAClB,CAAC,CAAC,MAAM,CAAC,CAAC,SAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAE,KAC7B,CAAC;OACX;;;aAEe,mBAAC,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE;AAC3C,YAAI,QAAQ,GAAG,CAAC,CAAC;AACjB,YAAI,SAAS,GAAG,CAAC,CAAC;AAClB,YAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC3C,gBAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAClC,SAAC,CAAC,GAAG,CAAC,KAAK,EAAE,UAAS,CAAC,EAAE;AACvB,cAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC9C,cAAM,gBAAgB,GAAG,KAAK,IAAI,CAAC,CAAC,IAAI,SAAM,CAAC;AAC/C,cAAM,qBAAqB,GAAG,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;;AAEzD,mBAAS,CAAC,YAAY,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;AAClD,mBAAS,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;AACtC,mBAAS,CAAC,KAAK,CAAC,QAAQ,GAAM,KAAK,OAAI,CAAC;;AAExC,cAAI,IAAI,GAAG,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,qBAAqB,CAAC,CAAC;AACzE,mBAAS,CAAC,SAAS,GAAG,IAAI,CAAC;;AAE3B,gBAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAC9B,cAAI,MAAM,GAAG,SAAS,CAAC,YAAY,CAAC;AACpC,gBAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;;AAE9B,mBAAS,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;AACxC,WAAC,CAAC,OAAO,GAAG,MAAM,CAAC;;AAEnB,WAAC,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,CAAC;SACtC,CAAC,CAAC;AACH,gBAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;;AAElC,eAAO,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;OAC3B;;;aAEqB,yBAAC,KAAK,EAAE;AAC5B,YAAM,OAAO,GAAG;AACd,WAAC,EAAE,SAAS;AACZ,WAAC,EAAE,SAAS;AACZ,WAAC,EAAE,SAAS;AACZ,WAAC,EAAE,SAAS;AACZ,WAAC,EAAE,SAAS;SACb,CAAC;;AAEF,YAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC;AAC9C,eAAO,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC;OACnC;;;aAEmB,uBAAC,KAAK,EAAE;AAC1B,YAAM,MAAM,GAAG,KAAK,CACjB,MAAM,CAAC,GAAG,CAAC,CACX,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AAAC,iBAAO,CAAC,CAAC,CAAC,CAAC;SAAC,CAAC,CACpC,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AAAC,iBAAO,CAAC,CAAC,CAAC,CAAC;SAAC,CAAC,CACpC,IAAI,CAAC,OAAO,EAAE,UAAS,CAAC,EAAE;AACzB,iBAAO,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;SACxB,CAAC,CACD,IAAI,CAAC,QAAQ,EAAE,UAAS,CAAC,EAAE;AAC1B,iBAAO,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;SACzB,CAAC,CAAC;;AAEL,YAAM,KAAK,GAAG,MAAM,CACjB,MAAM,CAAC,MAAM,CAAC,CACd,IAAI,CAAC,OAAO,EAAE,UAAS,CAAC,EAAE;AACzB,iBAAO,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;SACxB,CAAC,CACD,IAAI,CAAC,QAAQ,EAAE,UAAS,CAAC,EAAE;AAC1B,iBAAO,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;SACzB,CAAC,CACD,KAAK,CAAC,MAAM,EAAE,UAAS,CAAC,EAAE;AACzB,iBAAO,WAAW,CAAC,eAAe,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SAC7C,CAAC,CAAC;;AAEL,cAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAClB,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAU,CAAC,CAAC,MAAM,GAAG,CAAC,QAAK;SAC5B,CAAC,CACD,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAU,CAAC,CAAC,OAAO,GAAG,CAAC,QAAK;SAC7B,CAAC,CACD,KAAK,CAAC,MAAM,EAAE,OAAO,CAAC,CACtB,IAAI,CAAC,aAAa,EAAE,6BAA6B,CAAC,CAClD,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CACxB,IAAI,CAAC,WAAW,EAAE,MAAM,CAAC,CACzB,IAAI,CAAC,iBAAiB,EAAE,WAAW,CAAC,CACpC,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAC7B,IAAI,CAAC,UAAS,CAAC,EAAE;AAChB,iBAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;SACpB,CAAC,CAAC;;AAEL,cAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAClB,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAU,CAAC,CAAC,MAAM,GAAG,CAAC,QAAK;SAC5B,CAAC,CACD,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AACrB,iBAAU,EAAE,GAAG,CAAC,CAAC,OAAO,GAAG,CAAC,QAAK;SAClC,CAAC,CACD,KAAK,CAAC,MAAM,EAAE,OAAO,CAAC,CACtB,IAAI,CAAC,aAAa,EAAE,6BAA6B,CAAC,CAClD,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CACxB,IAAI,CAAC,WAAW,EAAE,KAAK,CAAC,CACxB,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAC7B,IAAI,CAAC,UAAS,CAAC,EAAE;AAChB,iBAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;SACxB,CAAC,CAAC;AACL,eAAO,MAAM,CAAC;OACf;;;aAEmB,uBAAC,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE;AAC1C,YAAI,IAAI,GAAG,EAAE,CAAC;AACd,YAAI,IAAI,KAAK,CAAC;AACd,YAAI,IAAI,iBAAiB,CAAC;AAC1B,YAAI,IAAI,SAAS,GAAG,SAAS,GAAG,MAAM,CAAC;AACvC,YAAI,IAAI,IAAI,CAAC;AACb,YAAI,IAAI,QAAQ,CAAC;;AAEjB,YAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,IAAI,KAAK,EAAE;AAC/C,cAAI,kCAAgC,SAAS,WAAM,IAAI,CAAC,UAAU,WAAQ,CAAC;SAC5E;;AAED,YAAI,IAAI,CAAC,QAAQ,EAAE;AACjB,cAAI,kCAAgC,SAAS,WAAM,IAAI,CAAC,QAAQ,UAAO,CAAC;SACzE;;AAED,eAAO,IAAI,CAAC;OACb;;;aAEY,gBAAC,GAAG,EAAE;AACjB,YAAI,WAAW,CAAC,WAAW,GAAG,CAAC,EAAE;AAC/B,iBAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAClB;OACF;;;WAvWG,WAAW;;;AA0WjB,MAAM,KAAK,GAAG;;AAEZ,WAAO,EAAE,OAAO;;AAEhB,QAAI,EAAE,cAAS,IAAI,EAAgB;UAAd,OAAO,yDAAG,EAAE;;AAE/B,UAAI,IAAI,GAAG,CAAC,CAAC,YAAY,CAAC,OAAO,IAAI,EAAE,EAAE;AACvC,cAAM,EAAE,QAAQ;AAChB,aAAK,EAAE,KAAK;AACZ,aAAK,EAAE,GAAG;AACV,cAAM,EAAE,GAAG;AACX,iBAAS,EAAE;AACT,mBAAS,EAAE,mBAAS,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE;AACvC,kBAAQ,EAAE,kBAAS,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE;AAC7C,mBAAO,WAAW,CAAC,SAAS,CAAC,KAAK,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC;WAC1D;AACD,oBAAU,EAAE,oBAAS,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;AAAC,mBAAO,CAAC,CAAC;WAAC;AAC9D,sBAAY,EAAE,sBAAS,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE;AAC7C,mBAAO,WAAW,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;WAC1D;SACF;AACD,cAAM,EAAE;AACN,aAAG,EAAE,EAAE;AACP,eAAK,EAAE,CAAC;AACR,gBAAM,EAAE,CAAC;AACT,cAAI,EAAE,CAAC;SACR;AACD,iBAAS,EAAE,GAAG;AACd,cAAM,EAAE;AACN,cAAI,EAAE,MAAM;AACZ,gBAAM,EAAE,QAAQ;AAChB,kBAAQ,EAAE,UAAU;AACpB,cAAI,EAAE,UAAU;SACjB;OACF,CAAC,CAAC;;AAEH,UAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACnB,UAAM,aAAa,GAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;AACzC,UAAM,WAAW,GAAG,IAAI,WAAW,CAAC,aAAa,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;AAC7D,iBAAW,CAAC,MAAM,EAAE,CAAC;KACtB;AACD,YAAQ,EAAE,kBAAS,KAAK,EAAE;AACxB,UAAM,CAAC,GAAG;AACR,gBAAQ,EAAE,QAAQ;AAClB,iBAAS,EAAE,SAAS;OACrB,CAAC;;AAEF,aAAO,CAAC,CAAC,KAAK,CAAC,CAAC;KACjB;;AAED,gBAAY,EAAE,sBAAS,KAAK,EAAE;AAC5B,UAAM,CAAC,GAAG;AACR,gBAAQ,EAAE,aAAa;AACvB,iBAAS,EAAE,cAAc;OAC1B,CAAC;AACF,aAAO,CAAC,CAAC,KAAK,CAAC,CAAC;KACjB;;AAED,YAAQ,EAAE,kBAAS,KAAK,EAAE,KAAK,EAAE;AAC/B,UAAM,KAAK,GAAG;AACZ,iBAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;AAC3B,iBAAS,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;OACpC,CAAC;;AAEF,OAAC,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;KACvB;;AAED,oBAAgB,EAAE,CAAC,YAAY,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,CAAC;;AAE9D,oBAAgB,EAAE,0BAAS,KAAK,EAAE,gBAAgB,EAAE;AAClD,WAAK,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAC;KAC9C;;AAED,WAAO,EAAE,iBAAS,KAAK,EAAE;;AAEvB,UAAI,CAAC,KAAK,EAAE;AACV,eAAO;OACR;;AAED,UAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC;;AAEzB,UAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AAC5B,UAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;;AAEpD,UAAM,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEhD,OAAC,KAAK,CAAC,QAAQ,IAAI,EAAE,CAAA,CAAE,OAAO,CAAC,UAAS,KAAK,EAAE;AAC7C,uBAAe,CAAC,KAAK,CAAC,CAAC;OACxB,CAAC,CAAC;KACJ;GACF,CAAC;;AAEF,SAAO,KAAK,CAAC;CAEZ,CAAE,CAAE","file":"dTree.js","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.dTree = factory());\n}(this, (function () { 'use strict';\n\nclass TreeBuilder {\n\n  constructor(root, siblings, opts) {\n    TreeBuilder.DEBUG_LEVEL = opts.debug ? 1 : 0;\n\n    this.root = root;\n    this.siblings = siblings;\n    this.opts = opts;\n\n    // flatten nodes\n    this.allNodes = this._flatten(this.root);\n\n    // Calculate node size\n    let visibleNodes = _.filter(this.allNodes, function(n) {\n      return !n.hidden;\n    });\n    this.nodeSize = opts.callbacks.nodeSize(visibleNodes,\n      opts.nodeWidth, opts.callbacks.textRenderer);\n  }\n\n  create() {\n\n    let opts = this.opts;\n    let allNodes = this.allNodes;\n    let nodeSize = this.nodeSize;\n\n    let width = opts.width + opts.margin.left + opts.margin.right;\n    let height = opts.height + opts.margin.top + opts.margin.bottom;\n\n    let zoom = d3.zoom()\n      .scaleExtent([0.1, 10])\n      .on('zoom', function() {\n        svg.attr('transform', d3.event.transform.translate(width / 2, opts.margin.top));\n      });\n\n    //make an SVG\n    let svg = this.svg = d3.select(opts.target)\n      .append('svg')\n      .attr('width', width)\n      .attr('height', height)\n      .call(zoom)\n      .append('g')\n      .attr('transform', 'translate(' + width / 2 + ',' + opts.margin.top + ')');\n\n    // Compute the layout.\n    this.tree = d3.tree()\n      .nodeSize([nodeSize[0] * 2, nodeSize[1] * 2.5]);\n\n    this.tree.separation(function separation(a, b) {\n      return (a.data.hidden || b.data.hidden) ? .3 : .6;\n    });\n\n    this._update(this.root);\n  }\n\n  _update(source) {\n\n    let opts = this.opts;\n    let allNodes = this.allNodes;\n    let nodeSize = this.nodeSize;\n\n    let treenodes = this.tree(source);\n    let links = treenodes.links();\n\n    // Create the link lines.\n    const linksvgs = this.svg.selectAll('.link')\n      .data(links)\n      .enter()\n      // filter links with no parents to prevent empty nodes\n      .filter(function(l) {\n        return !l.target.data.noParent;\n      });\n\n    linksvgs\n      .append('path')\n      .attr('class', opts.styles.linage)\n      .attr('d', this._elbow);\n\n    var formatPercent = d3.format('.0%');\n    linksvgs\n      .append('text')\n      .attr('x', function(d) {\n        const source = d.source;\n        const target = d.target;\n        return `${target.x}px`;\n      })\n      .attr('y', function(d) {\n        const source = d.source;\n        const target = d.target;\n        return `${d.target.y - 47}px`;\n      })\n      .style('fill', 'gray')\n      .attr('font-family', 'Source Sans Pro, sans-serif')\n      .attr('font-weight', 800)\n      .attr('font-size', '10px')\n      .attr('text-anchor', 'middle')\n      .text(function(d) {\n        const source = d.source;\n        const target = d.target;\n        const percentage = target.data.percentage;\n        return formatPercent(percentage);\n      });\n\n    let nodes = this.svg.selectAll('.node')\n      .data(treenodes.descendants())\n      .enter();\n\n    // Create the node svgs.\n    let svgs = nodes.append('svg')\n      .filter(function(d) {\n        return d.data.hidden ? false : true;\n      })\n      .attr('x', function(d) {\n        return d.x - d.cWidth / 2 + 'px';\n      })\n      .attr('y', function(d) {\n        return d.y - d.cHeight / 2 + 'px';\n      })\n      .attr('width', function(d) {\n        return d.cWidth + 'px';\n      })\n      .attr('height', function(d) {\n        return d.cHeight + 'px';\n      })\n      .attr('id', function(d) {\n        return d.id;\n      });\n    const groups = TreeBuilder._nodeRenderer(svgs);\n\n    const exclamations = this.svg.selectAll('.news-exclamation')\n      .data(treenodes.descendants())\n      .enter()\n      // filter links with no parents to prevent empty nodes\n      .filter(function(d) {\n        return d.data.news != null;\n      });\n\n    exclamations.append('text')\n      .attr('class', 'fas fa-exclamation-circle')\n      .attr('x', function(d) {\n        return d.x + 30 + 'px';\n      })\n      .attr('y', function(d) {\n        return d.y - d.cHeight / 2 + 9 + 'px';\n      })\n      .style('cursor', 'pointer')\n      .attr('fill', 'black')\n      .attr('font-size', function(d) { return '1.5em'; })\n      .text(function(d) { return '\\uf06a'; })\n      .on('mouseover', function(d) {\n        const newsBox = d3.select(`#news-box-${d.data.id}`);\n        newsBox.style('visibility', 'visible');\n      })\n      .on('mouseout', function(d) {\n        const newsBox = d3.select(`#news-box-${d.data.id}`);\n        newsBox.style('visibility', 'hidden');\n      });\n\n    const exclamationGroups = exclamations.append('g')\n      .attr('width', `500px`)\n      .attr('height',`500px`)\n      .attr('x', function(d) {\n        return d.x - d.cWidth / 2 + 'px';\n      })\n      .attr('y', function(d) {\n        return d.y - d.cHeight / 2 + 'px';\n      })\n      //j.attr('visibility', 'hidden')\n      .attr('id', function(d) {\n        return `news-box-${d.data.id}`;\n      });\n\n    const exclamationHeight = 80;\n    const exclamationOffset = 60;\n    exclamationGroups.append('rect')\n      .attr('class', 'news-box')\n      .attr('fill', '#ecf0f1')\n      .attr('width', `80px`)\n      .attr('height',`${exclamationHeight}px`)\n      .attr('x', function(d) {\n        return d.x + d.cWidth / 2 + 'px';\n      })\n      .attr('y', function(d) {\n        return d.y - exclamationOffset + 'px';\n      })\n      .attr('stroke', 'black')\n      .attr('stroke-width', 2);\n\n    exclamationGroups.append('text')\n      .attr('width', `80px`)\n      .attr('x', function(d) {\n        return d.x + d.cWidth / 2 + 'px';\n      })\n      .attr('y', function(d) {\n        return d.y + 'px';\n      })\n      .text('hello world');\n  }\n\n  _flatten(root) {\n    let n = [];\n    let i = 0;\n\n    function recurse(node) {\n      if (node.children) {\n        node.children.forEach(recurse);\n      }\n      if (!node.id) {\n        node.id = ++i;\n      }\n      n.push(node);\n    }\n    recurse(root);\n    return n;\n  }\n\n  _elbow(d, i) {\n    if (d.target.data.noParent) {\n      return 'M0,0L0,0';\n    }\n\n    // seperation of nodes height\n    let ny = d.target.y + (d.source.y - d.target.y) * 1;\n    const yDelta = -20;\n\n    return `M ${d.target.x} ${d.target.y}` +\n           `l ${0} ${yDelta * 2}` +\n           `m ${0} ${yDelta}` +\n           `L ${d.target.x} ${ny}` +\n           `L ${d.source.x} ${d.source.y}` +\n           ``;\n  }\n\n  static _nodeSize(nodes, width, textRenderer) {\n    let maxWidth = 0;\n    let maxHeight = 0;\n    let tmpSvg = document.createElement('svg');\n    document.body.appendChild(tmpSvg);\n    _.map(nodes, function(n) {\n      let container = document.createElement('div');\n      const HARD_CODED_CLASS = 'man' || n.data.class;\n      const HARD_CODED_TEXT_CLASS = 'nice' || n.data.textClass;\n\n      container.setAttribute('class', HARD_CODED_CLASS);\n      container.style.visibility = 'hidden';\n      container.style.maxWidth = `${width}px`;\n\n      let text = textRenderer(n.data.name, n.data.data, HARD_CODED_TEXT_CLASS);\n      container.innerHTML = text;\n\n      tmpSvg.appendChild(container);\n      let height = container.offsetHeight;\n      tmpSvg.removeChild(container);\n\n      maxHeight = Math.max(maxHeight, height);\n      n.cHeight = height;\n\n      n.cWidth = n.data.hidden ? 0 : width;\n    });\n    document.body.removeChild(tmpSvg);\n\n    return [width, maxHeight];\n  }\n\n  static depthToColorMap(depth) {\n    const entries = {\n      0: '#e74c3c',\n      1: '#a29bfe',\n      2: '#0984e3',\n      3: '#fab1a0',\n      4: '#636e72',\n    };\n\n    const numColors = Object.keys(entries).length;\n    return entries[depth % numColors];\n  }\n\n  static _nodeRenderer(nodes) {\n    const groups = nodes\n      .append('g')\n      .attr('x', function(d) {return d.x;})\n      .attr('y', function(d) {return d.y;})\n      .attr('width', function(d) {\n        return d.cWidth + 'px';\n      })\n      .attr('height', function(d) {\n        return d.cHeight + 'px';\n      });\n\n    const rects = groups\n      .append('rect')\n      .attr('width', function(d) {\n        return d.cWidth + 'px';\n      })\n      .attr('height', function(d) {\n        return d.cHeight + 'px';\n      })\n      .style('fill', function(d) {\n        return TreeBuilder.depthToColorMap(d.depth);\n      });\n\n    groups.append('text')\n      .attr('x', function(d) {\n        return `${d.cWidth / 2}px`;\n      })\n      .attr('y', function(d) {\n        return `${d.cHeight / 2}px`;\n      })\n      .style('fill', 'white')\n      .attr('font-family', 'Source Sans Pro, sans-serif')\n      .attr('font-weight', 800)\n      .attr('font-size', '10px')\n      .attr('text-decoration', 'underline')\n      .attr('text-anchor', 'middle')\n      .text(function(d) {\n        return d.data.name;\n      });\n\n    groups.append('text')\n      .attr('x', function(d) {\n        return `${d.cWidth / 2}px`;\n      })\n      .attr('y', function(d) {\n        return `${10 + d.cHeight / 2}px`;\n      })\n      .style('fill', 'white')\n      .attr('font-family', 'Source Sans Pro, sans-serif')\n      .attr('font-weight', 800)\n      .attr('font-size', '6px')\n      .attr('text-anchor', 'middle')\n      .text(function(d) {\n        return d.data.location;\n      });\n    return groups;\n  }\n\n  static _textRenderer(name, info, textClass) {\n    let node = '';\n    node += '<p ';\n    node += 'align=\"center\" ';\n    node += 'class=\"' + textClass + '\">\\n';\n    node += name;\n    node += '</p>\\n';\n\n    if (info.percentage && info.percentage != 'N/A') {\n      node += `<p align=\"center\" class=\"${textClass}\"> ${info.percentage}% </p>`;\n    }\n\n    if (info.location) {\n      node += `<p align=\"center\" class=\"${textClass}\"> ${info.location} </p>`;\n    }\n\n    return node;\n  }\n\n  static _debug(msg) {\n    if (TreeBuilder.DEBUG_LEVEL > 0) {\n      console.log(msg);\n    }\n  }\n}\n\nconst dTree = {\n\n  VERSION: '2.0.2',\n\n  init: function(data, options = {}) {\n\n    var opts = _.defaultsDeep(options || {}, {\n      target: '#graph',\n      debug: false,\n      width: 600,\n      height: 600,\n      callbacks: {\n        nodeClick: function(name, extra, id) {},\n        nodeSize: function(nodes, width, textRenderer) {\n          return TreeBuilder._nodeSize(nodes, width, textRenderer);\n        },\n        nodeSorter: function(aName, aExtra, bName, bExtra) {return 0;},\n        textRenderer: function(name, extra, textClass) {\n          return TreeBuilder._textRenderer(name, extra, textClass);\n        },\n      },\n      margin: {\n        top: 50,\n        right: 0,\n        bottom: 0,\n        left: 0\n      },\n      nodeWidth: 100,\n      styles: {\n        node: 'node',\n        linage: 'linage',\n        marriage: 'marriage',\n        text: 'nodeText'\n      }\n    });\n\n    this.process(data);\n    const hierarchyData = d3.hierarchy(data);\n    const treeBuilder = new TreeBuilder(hierarchyData, [], opts);\n    treeBuilder.create();\n  },\n  mapClass: function(label) {\n    const d = {\n      'person': 'person',\n      'company': 'company'\n    };\n\n    return d[label];\n  },\n\n  mapTextClass: function(label) {\n    const d = {\n      'person': 'person-text',\n      'company': 'company-text'\n    };\n    return d[label];\n  },\n\n  addStyle: function(nodes, label) {\n    const style = {\n      class: this.mapClass(label),\n      textClass: this.mapTextClass(label)\n    };\n\n    _.merge(nodes, style);\n  },\n\n  listOfAttributes: ['percentage', 'location', 'gender', 'news'],\n\n  compactExtraInfo: function(nodes, listOfAttributes) {\n    nodes.data = _.pick(nodes, listOfAttributes);\n  },\n\n  process: function(nodes) {\n\n    if (!nodes) {\n      return;\n    }\n\n    const label = nodes.type;\n\n    this.addStyle(nodes, label);\n    this.compactExtraInfo(nodes, this.listOfAttributes);\n\n    const processFunction = this.process.bind(this);\n\n    (nodes.children || []).forEach(function(child) {\n      processFunction(child);\n    });\n  }\n};\n\nreturn dTree;\n\n})));\n"]}